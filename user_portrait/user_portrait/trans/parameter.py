#-*- coding:utf-8 -*-
'''
use to save parameter
'''
#for test
RUN_TYPE = 0 #0 mark run for test; 1 mark run for operation
RUN_TEST_TIME = '2013-09-08'

#for all
DAY = 3600 * 24
HALF_HOUR = 1800
FOUR_HOUR = 3600*4
MAX_VALUE = 99999999
WEEK = 7
EXPIRE_TIME = 8*24*3600

#attribute: IP
IP_TIME_SEGMENT = 4*3600 # return every 4 hour statistic result for ip information
IP_TOP = 5 # return Top-5 ip for every time segment
IP_CONCLUSION_TOP = 2 # return job/home ip with top2

#attribute: geo
GEO_COUNT_THRESHOLD = 5

#attribute: sentiment
SENTIMENT_DICT = {'1':u'????', '2':u'????', '3':u'??ŭ', '0': u'????'}
SENTIMENT_DICT_NEW = {'0':u'????', '1':u'????', '2':u'????', '3':'????', \
        '4':u'????', '5':u'????', '6':u'????????', '7':u'????'}
SENTIMENT_FIRST = ['0', '1', '7']
SENTIMENT_SECOND = ['2', '3', '4', '5', '6']

#attribute: online_pattern
PATTERN_THRESHOLD = 3

#activeness threshould 
LOW_INFLUENCE_THRESHOULD = 200

#attribute: domain
domain_en2ch_dict = {'university':u'??У', 'homeadmin':u'???ڻ???', 'abroadadmin':u'????????', \
                     'homemedia':u'ý??', 'abroadmedia':u'????ý??', 'folkorg':u'??????֯',\
                     'lawyer':u'???ɻ???????ʿ', 'politician':u'????????????ʿ', 'mediaworker':u'ý????ʿ',\
                     'activer':u'??Ծ??ʿ', 'grassroot':u'?ݸ?', 'other':u'????', 'business':u'??ҵ??ʿ'}

domain_ch2en_dict = {u'??У': 'university', u'???ڻ???':'homeadmin', u'????????':'abroadadmin' ,\
                     u'ý??': 'homemedia', u'????ý??': 'abroadmedia', u'??????֯': 'folkorg', \
                     u'???ɻ???????ʿ': 'lawyer', u'????????????ʿ':'politician', u'ý????ʿ':'mediaworker',\
                     u'??Ծ??ʿ': 'activer', u'?ݸ?': 'grassroot', u'????':'otherday', u'??ҵ??ʿ':'business'}


#attribtue: topic
topic_en2ch_dict = {'art':u'??????_????','computer':u'?Ƽ???','economic':u'??????', \
                    'education':u'??????','environment':u'??????_????', 'medicine':u'??????_????',\
                    'military':u'??????','politics':u'??????_?⽻','sports':u'??????_????',\
                    'traffic':u'??????_??ͨ','life':u'??????','anti-corruption':u'??????_????',\
                    'employment':u'??????_??ҵ','fear-of-violence':u'??????_????',\
                    'house':u'??????_ס??','law':u'??????_????','peace':u'??????_??????ƽ',\
                    'religion':u'??????_?ڽ?','social-security':u'??????_???ᱣ??'}

topic_ch2en_dict = {u'??????_????': 'art', u'?Ƽ???':'computer', u'??????':'economic', \
                    u'??????':'education', u'??????_????': 'environment', u'??????_????':'medicine',\
                    u'??????': 'military', u'??????_?⽻':'politics', u'??????_????':'sports',\
                    u'??????_??ͨ':'traffic', u'??????':'life', u'??????_????':'anti-corruption',\
                    u'??????_??ҵ':'employment', u'??????_????':'fear-of-violence',\
                    u'??????_ס??': 'house', u'??????_????':'law', u'??????_??????ƽ':'peace',\
                    u'??????_?ڽ?':'religion', u'??????_???ᱣ??':'social-security'}

#attribtue:retweet/be_retweet/comment/be_comment/bidirect_interaction
SOCIAL_DEFAULT_COUNT = '20'

#attribute:sentiment trend default time type
SENTIMENT_TREND_DEFAULT_TYPE = 'day'
DEFAULT_SENTIMENT = '1' #happy, angry, sad


#attribute:psy desciption field
PSY_DESCRIPTION_FIELD = ['anger', 'anx', 'sad', 'negemo']
psy_en2ch_dict = {'anger': u'??ŭ????', 'anx': u'????????', 'sad': u'????????', 'negemo':u'????????'}
psy_description_dict = {
        '0':u'????????ʷˮƽ??ƽ,???Ǹ???ȫ??ƽ??ˮƽ',
        '1':u'???ڸ?????ʷˮƽ, ????ȫ??ƽ??ˮƽ??ƽ',
        '2':u'???ڸ?????ʷˮƽ??ȫ??ƽ??ˮƽ',
        '3':u'????״̬ƽ??????'
        }

#recommend in
RECOMMEND_IN_SENSITIVE_TOP = 2000
RECOMMEND_IN_BLACK_USER1 = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/recommentation_in/blacklist_2.csv'
RECOMMEND_IN_BLACK_USER2 = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/recommentation_in/blacklist_0808.txt'
RECOMMEND_IN_ACTIVITY_THRESHOLD = 50
RECOMMEND_IN_IP_THRESHOLD = 7
RECOMMEND_IN_RETWEET_THRESHOLD = 20
RECOMMEND_IN_MENTION_THRESHOLD = 15

#recommend out threshould
RECOMMEND_OUT_THRESHOULD = 30


#attribute: influence index and conclusion
INFLUENCE_RETWEETED_THRESHOLD = 500
INFLUENCE_COMMENT_THRESHOLD = 500
INFLUENCE_TAG = {
         "0": "??????Ӱ??", 
         "1": "??????Ϣ??????", 
         "2": "??????Ϣ??????", 
         "3": "??????Ϣ?????ߺʹ?????", 
         "4": "Ӱ??????"
    }

#attribtue: influence trend conclusion
INFLUENCE_TREND_SPAN_THRESHOLD = 400
INFLUENCE_TREND_AVE_MIN_THRESHOLD = 500
INFLUENCE_TREND_AVE_MAX_THRESHOLD = 900
INFLUENCE_TREND_DESCRIPTION_TEXT = {
        '0': u'Ӱ?????ϸ?,?ұ???ƽ??',
        '1': u'Ӱ?????ϸ?,?Ҳ????Խϴ?',
        '2': u'Ӱ????һ??,?ұ???ƽ??',
        '3': u'Ӱ????һ??,?Ҳ????Խϴ?',
        '4': u'Ӱ?????ϵ?,?ұ???ƽ??',
        '5': u'Ӱ?????ϵ?,?Ҳ????Խϴ?'
    }

#attribute: activeness trend conclusion
ACTIVENESS_TREND_SPAN_THRESHOLD = 30
ACTIVENESS_TREND_AVE_MIN_THRESHOLD = 40
ACTIVENESS_TREND_AVE_MAX_THRESHOLD = 70
ACTIVENESS_TREND_DESCRIPTION_TEXT = {
        '0': u'??Ծ?Ƚϸ?, ?ұ???ƽ??',
        '1': u'??Ծ?Ƚϸ?, ?Ҳ????Խϴ?',
        '2': u'??Ծ??һ??, ?ұ???ƽ??', 
        '3': u'??Ծ??һ??, ?Ҳ????Խϴ?',
        '4': u'??Ծ?Ƚϵ?, ?ұ???ƽ??',
        '5': '??Ծ?Ƚϵ?, ?Ҳ????Խϴ?'
    }

ACTIVENESS_TREND_TAG_VECTOR = {
         '0': u'??Ծ?ȸ???ƽ??',
         '1': u'??Ծ?ȸ??Ҳ????Դ?',
         '2': u'??Ծ??һ????ƽ??',
         '3': u'??Ծ??һ???Ҳ????Դ?',
         '4': u'??Ծ?ȵ???ƽ??',
         '5': '??Ծ?ȵ??Ҳ????Դ?'
    }

#cron/text_attribute/weibo_api
# weibo_api.py read_flow_text_sentiment/read_flow_text 
WEIBO_API_INPUT_TYPE = 1 # 1 mark: need compute sentiment
                         # 0 mark: not need compute sentiment
#cron/text_attribute/topic
TOPIC_ABS_PATH = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/model_file/topic'

#cron/text_attribute/domain
DOMAIN_ABS_PATH = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/model_file/domain'

#cron/text_attribute/psy
PSY_ABS_PATH = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/model_file/psy'

#cron/text_attribute/event
EVENT_ABS_PATH = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/model_file/event'

#cron/text_attribute/character
CH_ABS_PATH = '/home/ubuntu8/huxiaoqian/user_portrait_151220/user_portrait/user_portrait/cron/model_file/character'
CHARACTER_TIME_GAP = WEEK

# pre-influence index
pre_influence_index = "bci_"
influence_doctype = "bci"

# conclusion of history influence
INFLUENCE_LENTH = 30
INFLUENCE_LEVEL = [200, 500, 700, 900, 1100]
ACTIVENESS_LEVEL = [0.5, 1, 1.5, 2]
PRE_ACTIVENESS = "activeness_"
INFLUENCE_CONCLUSION = {
    "0": "???û???????Ӱ????",
    "1": "???û?????Ӱ??????С",
    "2": "???û?????Ӱ????һ??",
    "3": "???û?????Ӱ?????????ϸ?",
    "4": "???û?????Ӱ?????ϸߣ??????ϴ?",
    "5": "???û?????Ӱ?????????ܸ?",
    "6": "???û?????Ӱ?????ܸߣ??????Դ?",
    "7": "???û?Ӱ?????ӽ?????????",
    "8": "???û?Ӱ?????޴?"
    }

CURRNET_INFLUENCE_THRESHOULD = [200,500,700,900,1100]
CURRENT_INFLUENCE_CONCLUSION = {
    "0": "??Ӱ????",
    "1": "Ӱ?????ϵ?",
    "2": "Ӱ????һ??",
    "3": "Ӱ?????ϸ?",
    "4": "Ӱ??????",
    "5": "Ӱ????????"
    }

ACTIVENESS_CONCLUSION = {
    "0": "???û?????û?л?Ծ",
    "1": "???û????ڲ?̫??Ծ",
    "2": "???û????ڻ?Ծ?̶?һ??",
    "3": "???û????ڽ?Ϊ??Ծ",
    "4": "???û????ڷǳ???Ծ",
    "5": "???û????ڼ?????Ծ"
    }

BCI_LIST = ["origin_weibo_number", "origin_weibo_number", "retweeted_weibo_number", "retweeted_weibo_retweeted_brust_average", "origin_weibo_retweeted_average_number", "origin_weibo_comment_top_number", \
           "origin_weibo_comment_brust_average", "retweeted_weibo_top_retweeted_id", "retweeted_weibo_comment_top_number", "origin_weibo_top_comment_id", "retweeted_weibo_retweeted_total_number", "retweeted_weibo_retweeted_average_number", \
           "origin_weibo_retweeted_total_number", "retweeted_weibo_top_comment_id", "origin_weibo_top_retweeted_id", "origin_weibo_comment_average_number", "origin_weibo_retweeted_brust_average", "origin_weibo_retweeted_top_number", \
           "retweeted_weibo_retweeted_top_number","user_index", "retweeted_weibo_comment_total_number", "retweeted_weibo_comment_brust_average", "origin_weibo_comment_total_number", "retweeted_weibo_comment_average_number"]


INFLUENCE_TOTAL_THRESHOULD = [1000, 1000, 1000, 1000]
INFLUENCE_TOTAL_LIST = ['origin_weibo_retweeted_total_number','origin_weibo_comment_total_number','retweeted_weibo_retweeted_total_number','retweeted_weibo_comment_total_number']
INFLUENCE_TOTAL_CONCLUSION = ['ԭ??΢????ת??????', 'ԭ??΢????????????', 'ת??΢????ת??????', 'ת??΢????????????']
UNDERLINE_CONCLUSION = ['??????Ϣ??????', '????????????Ϣ????????????????', '??????Ϣ??????', '????????????Ϣ????????????????']
INFLUENCE_BRUST_THRESHOULD = [100, 100,100, 100]
INFLUENCE_BRUST_LIST = ['origin_weibo_retweeted_brust_average','origin_weibo_comment_brust_average','retweeted_weibo_retweeted_brust_average','retweeted_weibo_comment_brust_average']
INFLUENCE_BRUST_CONCLUSION = ['?????ٶȿ?', '?????ٶȿ?', '?????ٶȿ?', '?????ٶȿ?']


# social sensoring time interval
SOCIAL_SENSOR_TIME_INTERVAL = 1800
SOCIAL_SENSOR_FORWARD_RANGE = 21600
INDEX_MANAGE_SOCIAL_SENSING = "manage_sensing_task"
DOC_TYPE_MANAGE_SOCIAL_SENSING = "task"
DETAIL_SOCIAL_SENSING = "social_sensing_task"
FORWARD_N = 12
INITIAL_EXIST_COUNT = 6 
IMPORTANT_USER_NUMBER = 100 
IMPORTANT_USER_THRESHOULD = 70 
signal_nothing = "0" 
signal_brust = "1" 
signal_track = "2" 
signal_count_varition = "1"
signal_sentiment_varition = "2"
signal_sensitive_variation = '3'
signal_nothing_variation = ""
finish_signal = "1"
unfinish_signal = "0"
SOCIAL_SENSOR_INFO = ['uid', 'uname', "photo_url", "domain", "topic_string", "importance", "influence", "activeness"]
AGGRAGATION_KEYWORDS_NUMBER = 20
PRE_AGGREGATION_NUMBER = 50
WARNING_SENSITIVE_COUNT = 1000


CURRENT_WARNING_DICT = {
    "0": "Ŀǰû?и?֪???¼?????",
    "1": "Ԥ???????¼????ص?΢?????????????쳣?????ܷ????????¼????뼰ʱ?鿴",
    "2": "Ԥ???????¼????ص?΢???ĸ????????????쳣?????ܷ????????¼????뼰ʱ?鿴",
    "3": "Ԥ???????¼????ص?΢?????????͸??????????????쳣?????ܷ????????¼????뼰ʱ?鿴"
    }


#group detect: query information---single/multi
DETECT_QUERY_ATTRIBUTE = ['location', 'domain', 'topic_string', 'keywords_string', 'hashtag', \
                          'activity_geo', 'tag', 'remark']
DETECT_QUERY_ATTRIBUTE_MULTI = ['topic_string', 'keywords_string', 'hashtag', 'activity_geo']
DETECT_QUERY_STRUCTURE = ['retweet', 'comment', 'hop']
DETECT_QUERY_FILTER = ['count', 'influence', 'importance']
DETECT_DEFAULT_WEIGHT = 0.5
DETECT_DEFAULT_MARK = '0'
DETECT_DEFAULT_COUNT = 100
DETECT_FILTER_VALUE_FROM = 50
DETECT_FILTER_VALUE_TO = 100
DETECT_ITER_COUNT = 100
DETECT_TEXT_FUZZ_ITEM = ['text']
DETECT_TEXT_RANGE_ITEM = ['timestamp']
MAX_DETECT_COUNT = 900
DETECT_COUNT_EXPAND = 3
MAX_PROCESS = 100
#group detect: attribute detect
DETECT_ATTRIBUTE_FUZZ_ITEM = ['location', 'activity_geo', 'keywords_string','hashtag', 'remark']
DETECT_ATTRIBUTE_MULTI_ITEM = ['topic_string', 'domain']
DETECT_ATTRIBUTE_SELECT_ITEM = ['tendency', 'tag']
DETECT_PATTERN_FUZZ_ITEM = ['geo', 'ip']
DETECT_PATTERN_SELECT_ITEM = ['message_type', 'sentiment']
DETECT_PATTERN_RANGE_ITEM = ['timestamp']
#group detect: event detect
DETECT_EVENT_ATTRIBUTE = ['topic_string', 'domain']
DETECT_EVENT_TEXT_FUZZ_ITEM = ['text']
DETECT_EVENT_TEXT_RANGE_ITEM = ['timestamp']
#identify user attribute list
IDENTIFY_ATTRIBUTE_LIST = ['domain', 'uid', 'hashtag_dict', 'importance', 'influence', 'domain_v3', \
        'online_pattern', 'keywords_string', 'topic', 'activity_geo', 'uname', 'hashtag', 'keywords', 'fansnum', \
        'psycho_status', 'tendency', 'photo_url', 'verified', 'statusnum', 'gender', 'topic_string',\
        'activeness', 'location', 'activity_geo_dict', 'friendsnum', 'group', 'remark', 'character_text',\
        'character_sentiment', 'activity_geo_aggs', 'online_pattern_aggs']

#cron_group
ACTIVITY_GEO_TOP = 3
HIS_BINS_COUNT = 5
GROUP_ACTIVITY_TIME_THRESHOLD = [0.3, 0.5]
GROUP_ACTIVITY_TIME_DESCRIPTION_DICT = {
        '0': u'Ⱥ???û???Ծʱ???Ϸ?ɢ',
        '1': u'Ⱥ???û???Ծʱ???ϼ???',
        '2': u'Ⱥ???û???Ծʱ???ǳ?????'
        }
GROUP_ITER_COUNT = 100
GROUP_INFLUENCE_FILTER_LOW_THRESHOLD = 500
GROUP_INFLUENCE_FILTER_RANK_RATIO = 0.05
GROUP_SOCIAL_OUT_COUNT = 100
GROUP_SENTIMENT_LIST = ['0', '1', '2'] # need to modify
GROUP_NEGATIVE_SENTIMENT = ['2','3','4','5','6'] # need to modify
GROUP_AVE_ACTIVENESS_RANK_THRESHOLD = [0.3, 0.7]
GROUP_AVE_INFLUENCE_RANK_THRESHOLD = [0.3, 0.7]
GROUP_AVE_IMPORTANCE_RANK_THRESHOLD = [0.3, 0.7]
GROUP_AVE_ACTIVENESS_RANK_DESCRIPTION = {
        '0': u'Ⱥ???û???????Ծ?Ƚϸ?',
        '1': u'Ⱥ???û???????Ծ??һ??',
        '2': u'Ⱥ???û???????Ծ?Ƚϵ?'
        }
GROUP_AVE_INFLUENCE_RANK_DESCRIPTION = {
        '0': u'Ⱥ???û?????Ӱ?????ϸ?',
        '1': u'Ⱥ???û?????Ӱ????һ??',
        '2': u'Ⱥ???û???????Ծ?Ƚϵ?'
        }
GROUP_AVE_IMPORTANCE_RANK_DESCRIPTION = {
        '0': u'Ⱥ???û???????Ҫ?Ƚϸ?',
        '1': u'Ⱥ???û???????Ҫ??һ??',
        '2': u'Ⱥ???û???????Ҫ?Ƚϵ?'
        }
GROUP_DENSITY_THRESHOLD = [0.1, 0.3]
GROUP_DENSITY_DESCRIPTION = {
        '0': u'Ⱥ???ڽ??????ܶȽϵ?',
        '1': u'Ⱥ???ڽ??????ܶ?һ??',
        '2': u'Ⱥ???ڽ??????ܶȽϸ?'
        }
GROUP_KEYWORD_COUNT = 50
GROUP_HASHTAG_COUNT = 50
GROUP_SENTIMENT_WORD_COUNT = 50